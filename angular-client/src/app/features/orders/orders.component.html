<div class="dashboard">
  <h2>Panou Comenzi</h2>

  <!-- Tabs -->
  <div class="dashboard-tabs">
    <div
      class="tab-card"
      [class.active]="selectedTab === 'active'"
      (click)="selectTab('active')"
    >
      <h3>Active</h3>
      <p>{{ activeOrders?.length || 0 }} comenzi</p>
    </div>

    <div
      class="tab-card"
      [class.active]="selectedTab === 'completed'"
      (click)="selectTab('completed')"
    >
      <h3>Finalizate</h3>
      <p>{{ completedOrders?.length || 0 }} comenzi</p>
    </div>

    <div
      class="tab-card"
      [class.active]="selectedTab === 'canceled'"
      (click)="selectTab('canceled')"
    >
      <h3>Anulate</h3>
      <p>{{ canceledOrders?.length || 0 }} comenzi</p>
    </div>

    <div
      class="tab-card"
      [class.active]="selectedTab === 'archive'"
      (click)="selectTab('archive')"
    >
      <h3>Arhivate</h3>
      <p>{{ getArchivedOrdersCount() }} comenzi</p>
    </div>
  </div>

  <!-- Lista comenzi pentru taburile active/completed/canceled -->
  <ng-container *ngIf="selectedTab !== 'archive'">
    <div class="orders-list">
      <app-order-list [orders]="getCurrentTabOrders() || []"></app-order-list>
    </div>
  </ng-container>

  <!-- Lista comenzi arhivate -->
  <ng-container *ngIf="selectedTab === 'archive'">
    <div class="orders-list">
      <div *ngFor="let day of getArchivedDates()" class="archive-day">
        <h4>{{ day }}</h4>

        <ng-container *ngIf="archivedGrouped && archivedGrouped[day] as ordersInDay; else noOrders">
          <ng-container *ngIf="ordersInDay.length > 0; else noOrders">
            <app-order-list [orders]="ordersInDay"></app-order-list>
          </ng-container>
        </ng-container>

        
        <ng-template #noOrders>
          <p>Nicio comandă arhivată în această zi.</p>
        </ng-template>

      </div>
    </div>
  </ng-container>
</div>

<mat-sidenav-container class="sidenav-container">
  <!-- SIDEBAR -->
  <mat-sidenav
    #drawer
    [mode]="(isHandset$ | async) ? 'over' : 'side'"
    [opened]="!(isHandset$ | async)"
    class="sidenav"
  >
    <div class="sidebar-header">
      <img src="assets/logo.png" alt="Logo" class="logo" />
      <h1 class="brand">Lotca Fermecata </h1>
    </div>

    <div class="nav-section">
      <p class="nav-title">Navigation</p>
      <mat-nav-list>
        <a mat-list-item routerLink="/" routerLinkActive="active-link">
          <i class="fas fa-chart-line nav-icon"></i> Dashboard
        </a>
      </mat-nav-list>
    </div>

    <div class="nav-section">
      <p class="nav-title">Authentication</p>
      <mat-nav-list>
        <a mat-list-item routerLink="/auth/login" routerLinkActive="active-link">
          <i class="fas fa-sign-in-alt nav-icon"></i> Login
        </a>
        <a mat-list-item routerLink="/auth/register" routerLinkActive="active-link">
          <i class="fas fa-user-plus nav-icon"></i> Register
        </a>
      </mat-nav-list>
    </div>
    
    <div class="nav-section">
      <p class="nav-title">Restaurant</p>
      <mat-nav-list>
        <a mat-list-item routerLink="/orders" routerLinkActive="active-link">
          <i class="fas fa-utensils nav-icon"></i> Orders
        </a>
      </mat-nav-list>
      <mat-nav-list>
        <a mat-list-item routerLink="/orders/new" routerLinkActive="active-link">
          <i class="fas fa-plus-circle nav-icon"></i> Comandă nouă
        </a>
      </mat-nav-list>
    </div>
  </mat-sidenav>

  <!-- CONTENT -->
  <mat-sidenav-content>
    <mat-toolbar color="primary" class="topbar">
      <!-- Hamburger button for mobile -->
      <button
        mat-icon-button
        (click)="drawer.toggle()"
        class="hamburger-button"
      >
        <i class="fas fa-bars"></i>
      </button>



      <span class="spacer"></span>

      <div class="profile-wrapper" (clickOutside)="showDropdown = false" clickOutside>
        <button mat-icon-button (click)="toggleDropdown()" class="profile-btn">
          <i class="fas fa-user-circle"></i>
        </button>

        <div *ngIf="showDropdown" class="profile-dropdown" [@dropdownAnimation]>
          <p><strong>Rol curent:</strong></p>
          <p style="color: #4B0082;">{{ currentRole }}</p>
          <button (click)="toggleRole()">
            <i class="fas fa-sync-alt"></i>
            Schimbă rolul în {{ currentRole === 'BAR' ? 'BUCATĂRIE' : 'BAR' }}
          </button>
        </div>
      </div>



    </mat-toolbar>

    <div class="content">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>